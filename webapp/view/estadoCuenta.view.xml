<mvc:View controllerName="estadoCuenta.dulcor.controller.estadoCuenta" xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m" xmlns:form="sap.ui.layout.form" xmlns:sform="sap.ui.comp.smartform" xmlns:sf="sap.ui.comp.smartfield"
    xmlns:core="sap.ui.core">
    <Page id="page" title="{i18n>title}">
        <Panel class="sapUiResponsiveMargin" width="auto">
            <form:SimpleForm columnsM="2" columnsL="3" columnsXL="6" layout="ColumnLayout">
                <Label text="Cliente" />
                <Input id= "clientName" value="{PortalModel>/clientName}" showValueHelp="true" valueHelpOnly="true"
                    valueHelpRequest="onValueHelpRequest" enabled="{PortalModel>/clientEnabled}" />
            </form:SimpleForm>

            <form:SimpleForm columnsM="2" columnsL="3" columnsXL="6" layout="ColumnLayout">
                <form:content>
                    <Label text="Empresa" />
                    <ComboBox id="idCBoxEmpresa" items="{EmpresaModel>/results}"
                        selectedKey="{ToolsModel>/sKeyEmpresaDist}" placeholder="Seleccionar Empresa">
                        <core:Item
                            key="{EmpresaModel>SalesOrganization}-{EmpresaModel>DistributionChanel}-{EmpresaModel>PriceList}"
                            text="{EmpresaModel>SalesOrganization} - {EmpresaModel>SalesOrganizationName}" />
                    </ComboBox>
                    <Label text="Fecha Desde" />
                    <DatePicker id="DP1" placeholder="Fecha" change="handleChange" class="sapUiSmallMarginBottom"
                        width="auto" />

                    <Label text="Fecha Hasta" />
                    <DatePicker id="DP2" placeholder="Fecha" change="handleChange" class="sapUiSmallMarginBottom"
                        width="auto" />

                    <Button text="Buscar" press=".onSubmit" />
                </form:content>
            </form:SimpleForm>
        </Panel>
        <Panel class="sapUiResponsiveMargin" width="auto" id="tablaPanel" visible="false">
            <Table id="productsTable" items="{DocumentosFinancieros>/results}" headerText="Estado de Cuenta"
                alternateRowColors="true">
                <headerToolbar>
                    <OverflowToolbar id="idCrumbToolbar">
                        <VBox>
                            <Title text="Estado de Cuenta" />
                        </VBox>
                    </OverflowToolbar>
                </headerToolbar>
                <infoToolbar>
                    <OverflowToolbar>
                        <Text text="Saldo : ${Saldo>/TotalBal}  ." />
                    </OverflowToolbar>
                </infoToolbar>
                <columns>
                    <Column id="operacionCol"><Text text="Operacion" /></Column>
                    <Column id="comprobanteCol" demandPopin="true"><Text text="Nro. Comprobante" /></Column>
                    <Column id="fechaCol" demandPopin="true"><Text text="Fecha" /></Column>
                    <Column id="vencimientoCol" demandPopin="true"><Text text="Vencimiento" /></Column>
                    <Column id="importeCol" demandPopin="true"><Text text="Importe" /></Column>
                </columns>
                <items>
                    <ColumnListItem type="Navigation" vAlign="Middle" press="onPress">
                        <cells>
                            <Text text="{DocumentosFinancieros>DocType}" />
                            <Text text="{DocumentosFinancieros>DocNo}" />
                            <Text text="{DocumentosFinancieros>PstngDate}" />
                            <Text text="{DocumentosFinancieros>BlineDate}" />
                            <Text text="{DocumentosFinancieros>Currency} {DocumentosFinancieros>Amount}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </Panel>
    </Page>
</mvc:View>